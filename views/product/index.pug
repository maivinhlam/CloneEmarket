extends ../layout/common

block content
    h1         
        span Products
        a.btn.btn-primary.ml-3.small(href="/products/create") New

    .container
        .row
            each product in products
                .col-12.col-md-6.col-lg-3
                    .card
                        img.card-img-top(src= product.image, alt='Card image cap')
                        .card-body
                            h4.card-title
                                a.stretched-link(href='product.html', title='View Product')= product.name
                            p.card-text.overflow-hidden= product.description
                            .row
                                .col
                                    p.btn.btn-danger.btn-block.product-price= product.price
                                .col
                                    a.btn.btn-success.btn-block(href='/cart/add/' + product._id) Add to cart
            





    ul.pagination.justify-content-center
        if page == 1
            li.page-item.disabled
                a.page-link(href='?page=' + (page-1)) Previous
        else
            li.page-item
                a.page-link(href='?page=' + (page-1)) Previous
                
        - for (var x = 1; x <= numPage; x++)
            if x == page
                li.page-item.active
                    a.page-link(href='?page=' + x)= x        
            else    
                li.page-item
                    a.page-link(href='?page=' + x)= x   

        if page == numPage    
            li.page-item.disabled
                a.page-link(href='?page=' + (page+1)) Next
        else
            li.page-item
                a.page-link(href='?page=' + (page+1)) Next



    script(src="/js/myJS.js")